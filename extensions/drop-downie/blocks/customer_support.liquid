{{ 'floating.css' | asset_url | stylesheet_tag }}

<div class="floating-icon{% if block.settings.position == 'left' %} icon-left{% endif %}" 
    style="
    --icon-size: {{  block.settings.icon_width }}px;
    --icon-position: {{ block.settings.position }};
    --icon-horizontal-position: {{ block.settings.icon_horizontal_position }}px;
    --icon-vertical-position: {{ block.settings.icon_vertical_position }}px;
    --icon-bg-color: {{  block.settings.icon_color }};
    " 
>
    {% if block.settings.icon_image != blank %}
        <img src="{{ block.settings.icon_image | image_url: width: 100 }}" height="100" width="100" loading="lazy">
    {% else %}
        <img src="{{ "thumbs-up.png" | asset_img_url: '100x' }}" height="100" width="100" loading="lazy">
    {%  endif %} 
</div>

{% schema %}
{
  "name": "Floating Icon",
  "target": "body",
  "settings": [
    {
      "type": "image_picker",
      "id": "icon_image",
      "label": "Icon Image"
    },
    {
      "type": "range",
      "id": "icon_width",
      "label": "Icon size",
      "min": 50,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 50
    },
    {
        "type": "select",
        "id": "position",
        "label": "Position",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "left"
    },
    {
      "type": "range",
      "id": "icon_horizontal_position",
      "label": "Horizontal Position",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "icon_vertical_position",
      "label": "Vertical Position",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type":"color", 
      "id":"icon_color",
      "label":"Background Color",
      "default":"#fff"
    }
  ]
}
{% endschema %}